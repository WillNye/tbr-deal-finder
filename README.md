# tbr-deal-finder

Easily find and track discounts on the audiobooks and/or ebooks of your TBR (To Be Read) list.

## Features
- Uses your StoryGraph export to track book deals
- Supports multiple StoryGraph accounts
- Supports multiple locales and currencies
- Finds the latest and active deals from supported sellers
- Simple CLI interface for setup and usage

## Support

### Audiobooks
* Audible
* Chirp
* Libro.fm (Work in progress)

### Locales
* US
* CA
* UK
* AU
* FR
* DE
* JP
* IT
* IN
* ES
* BR

## Installation Guide

1. Clone the repository:
   ```sh
   git clone https://github.com/yourusername/tbr-deal-finder.git
   cd tbr-deal-finder
   ```
2. Install uv:
   https://docs.astral.sh/uv/getting-started/installation/

## Configuration

### StoryGraph Library export
This tool relies on the csv generated by The StoryGraph export. 
The export contains all the books you've marked as "to read" in StoryGraph as well as books you've marked as owned.
Deals on Owned books will not be displayed by tbr-deal-finder. 

To generate and download your exported library:
* Open https://app.thestorygraph.com/ in the browser of your choice
* Click on your profile icon in the top right corner
* Select "Manage Account"
* Scroll down to "Manage Your Data"
* Click the button "Export StoryGraph Library"
* You will be navigated to https://app.thestorygraph.com/user-export
* Click "Generate export"
* Wait a few minutes and refresh the page
* A new item will appear that says "Your export from ... - Download" will appear
* Click "Download"

### tbr-deal-finder setup

```sh
uv run -m tbr_deal_finder.main setup
```

You will be prompted to:
- Enter the path(s) to your StoryGraph export CSV file(s)
- Select your locale (country/region)
- Set your maximum price for deals
- Set your minimum discount percentage

The configuration will be saved for future runs.

## Usage

All commands are available via the CLI:

```sh
uv run -m tbr_deal_finder.main [COMMAND]
```

### Commands

- `setup`         – Set up or update your configuration interactively.
- `latest-deals`  – Find and print the latest book deals based on your config.
- `active-deals`  – Show all currently active deals.

Example:
```sh
uv run -m tbr_deal_finder.main latest-deals
```

### Updating your TBR
To update tbr-deal-finder as your TBR changes in The StoryGraph simply regenerate and download your library export.
See [StoryGraph Library export](###StoryGraph Library export) for steps.


---

Happy deal hunting!
